{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export { fetchImages };\n\nconst API_KEY = '46160271-30a7facc458188e9573ebab80';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nfunction fetchImages(params) {\n  const urlParams = new URLSearchParams(params);\n\n  return fetch(`${BASE_URL}?key=${API_KEY}&${urlParams}`).then(response => {\n    if (!response.ok) {\n      throw new Error('Bad Request!');\n    }\n\n    return response.json();\n  });\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport { createGallery, removeGallery };\n\nconst gallery = document.querySelector('.gallery');\n\nfunction createGallery(hits) {\n  const galleryItems = hits\n    .map(image => {\n      const {\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      } = image;\n      return `\n            <a class=\"gallery-link\" href=\"${largeImageURL}\">\n                <img\n                    class=\"gallery-image\"\n                    src=\"${webformatURL}\"\n                    data-source=\"${largeImageURL}\"\n                    alt=\"${tags}\"\n                />\n                <div class=\"image-descrition\">\n                    <div>\n                        <span class=\"image-descrition-font\">Likes</span>\n                        <span class=\"image-descrition-font\">${likes}</span>\n                    </div>\n                    <div>\n                        <span class=\"image-descrition-font\">Views</span>\n                        <span class=\"image-descrition-font\">${views}</span>\n                    </div>\n                    <div>\n                        <span class=\"image-descrition-font\">Comments</span>\n                        <span class=\"image-descrition-font\">${comments}</span>\n                    </div>\n                    <div>\n                        <span class=\"image-descrition-font\">Downloads</span>\n                        <span class=\"image-descrition-font\">${downloads}</span>\n                    </div>\n                </div>\n            </a>`;\n    })\n    .join('');\n\n  gallery.insertAdjacentHTML('beforeend', galleryItems);\n  new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',\n    captionDelay: 250,\n  }).refresh();\n}\n\nfunction removeGallery() {\n  gallery.innerHTML = '';\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { fetchImages } from './js/pixabay-api';\nimport { createGallery, removeGallery } from './js/render-functions';\n\nlet imageName = '';\nconst imageForm = document.querySelector('.form-image');\nconst loader = document.querySelector('.loader');\n\nconst fetchParams = {\n  q: imageName,\n  image_type: 'photo',\n  orientation: 'horizontal',\n  safesearch: true,\n};\nconst optionsiziToast = {\n  messageColor: 'white',\n  backgroundColor: 'red',\n  position: 'topRight',\n  message:\n    'Sorry, there are no images matching your search query. Please try again!',\n};\n\nconst onSubmitForm = event => {\n  const { imageName } = event.currentTarget.elements;\n  fetchParams.q = imageName.value;\n\n  event.preventDefault();\n  event.currentTarget.reset();\n\n  removeGallery();\n  showLoader();\n\n  fetchImages(fetchParams)\n    .then(resp => {\n      if (resp.hits.length) {\n        createGallery(resp.hits);\n      } else {\n        showError(false);\n      }\n    })\n    .catch(error => showError(error))\n    .finally(hideLoader);\n};\n\nconst showLoader = () => {\n  loader.innerHTML = '<span></span>';\n};\n\nconst hideLoader = () => {\n  loader.innerHTML = '';\n};\n\nconst showError = error => {\n  optionsiziToast.message =\n    typeof error === 'object' ? error.message : optionsiziToast.message;\n  iziToast.error(optionsiziToast);\n};\n\nimageForm.addEventListener('submit', onSubmitForm);\n"],"names":["API_KEY","BASE_URL","fetchImages","params","urlParams","response","gallery","createGallery","hits","galleryItems","image","webformatURL","largeImageURL","tags","likes","views","comments","downloads","SimpleLightbox","removeGallery","imageName","imageForm","loader","fetchParams","optionsiziToast","onSubmitForm","event","showLoader","resp","showError","error","hideLoader","iziToast"],"mappings":"6vBAEA,MAAMA,EAAU,qCACVC,EAAW,2BAEjB,SAASC,EAAYC,EAAQ,CAC3B,MAAMC,EAAY,IAAI,gBAAgBD,CAAM,EAE5C,OAAO,MAAM,GAAGF,CAAQ,QAAQD,CAAO,IAAII,CAAS,EAAE,EAAE,KAAKC,GAAY,CACvE,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,cAAc,EAGhC,OAAOA,EAAS,MACpB,CAAG,CACH,CCVA,MAAMC,EAAU,SAAS,cAAc,UAAU,EAEjD,SAASC,EAAcC,EAAM,CAC3B,MAAMC,EAAeD,EAClB,IAAIE,GAAS,CACZ,KAAM,CACJ,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,EAAGP,EACJ,MAAO;AAAA,4CAC+BE,CAAa;AAAA;AAAA;AAAA,2BAG9BD,CAAY;AAAA,mCACJC,CAAa;AAAA,2BACrBC,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,8DAK+BC,CAAK;AAAA;AAAA;AAAA;AAAA,8DAILC,CAAK;AAAA;AAAA;AAAA;AAAA,8DAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,8DAIRC,CAAS;AAAA;AAAA;AAAA,iBAIvE,CAAK,EACA,KAAK,EAAE,EAEVX,EAAQ,mBAAmB,YAAaG,CAAY,EACpD,IAAIS,EAAe,aAAc,CAC/B,aAAc,MACd,aAAc,GAClB,CAAG,EAAE,QAAO,CACZ,CAEA,SAASC,GAAgB,CACvBb,EAAQ,UAAY,EACtB,CCrDA,IAAIc,EAAY,GAChB,MAAMC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAAc,CAClB,EAAGH,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACd,EACMI,EAAkB,CACtB,aAAc,QACd,gBAAiB,MACjB,SAAU,WACV,QACE,0EACJ,EAEMC,EAAeC,GAAS,CAC5B,KAAM,CAAE,UAAAN,CAAW,EAAGM,EAAM,cAAc,SAC1CH,EAAY,EAAIH,EAAU,MAE1BM,EAAM,eAAc,EACpBA,EAAM,cAAc,QAEpBP,IACAQ,IAEAzB,EAAYqB,CAAW,EACpB,KAAKK,GAAQ,CACRA,EAAK,KAAK,OACZrB,EAAcqB,EAAK,IAAI,EAEvBC,EAAU,EAAK,CAEvB,CAAK,EACA,MAAMC,GAASD,EAAUC,CAAK,CAAC,EAC/B,QAAQC,CAAU,CACvB,EAEMJ,EAAa,IAAM,CACvBL,EAAO,UAAY,eACrB,EAEMS,EAAa,IAAM,CACvBT,EAAO,UAAY,EACrB,EAEMO,EAAYC,GAAS,CACzBN,EAAgB,QACd,OAAOM,GAAU,SAAWA,EAAM,QAAUN,EAAgB,QAC9DQ,EAAS,MAAMR,CAAe,CAChC,EAEAH,EAAU,iBAAiB,SAAUI,CAAY"}